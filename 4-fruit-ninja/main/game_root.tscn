[gd_scene load_steps=16 format=3 uid="uid://ckefh8ijiavng"]

[ext_resource type="Texture2D" uid="uid://tcnyxsjtxkp7" path="res://main/hud/background.png" id="1_m7g0w"]
[ext_resource type="PackedScene" uid="uid://b3vlxe62crhsp" path="res://entities/player/player.tscn" id="1_oc7al"]
[ext_resource type="Script" uid="uid://c7uw7yawvgcly" path="res://main/game_world.gd" id="1_sd42p"]
[ext_resource type="Script" uid="uid://308svwjg04wa" path="res://entities/fruit/fruit_manager.gd" id="2_mf5tn"]
[ext_resource type="Script" uid="uid://cmyijexk5nwjg" path="res://entities/fruit/fruit_sprite_data.gd" id="4_5ki0c"]
[ext_resource type="Resource" uid="uid://cclr3xwvyu4te" path="res://entities/fruit/types/apple.tres" id="4_ruu41"]
[ext_resource type="Resource" uid="uid://b55su3h4yc4c8" path="res://entities/fruit/types/orange.tres" id="6_0lrfc"]
[ext_resource type="Resource" uid="uid://cj4sw67dnxi0w" path="res://entities/fruit/types/banana.tres" id="7_50ijx"]
[ext_resource type="Resource" uid="uid://bnqlntbttwqo5" path="res://entities/fruit/types/coconut.tres" id="8_d0ffj"]
[ext_resource type="Resource" uid="uid://bbc83fdly4wqt" path="res://entities/fruit/types/pineapple.tres" id="9_yhd5o"]
[ext_resource type="Texture2D" uid="uid://by4chl8jgl7l6" path="res://main/hud/missed-false.png" id="10_d0ffj"]
[ext_resource type="Script" uid="uid://2kbfohb1a4x6" path="res://main/hud/hud.gd" id="10_yhd5o"]
[ext_resource type="Texture2D" uid="uid://bfqk20rnuwoaq" path="res://entities/fruit/types/sprites/coconut-half-2.png" id="12_ukkfd"]
[ext_resource type="Theme" uid="uid://0y0qe7aesqr" path="res://style/ui.tres" id="13_ukkfd"]

[sub_resource type="Curve2D" id="Curve2D_sd42p"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 100, 600, 0, 0, 0, 0, 700, 600)
}
point_count = 2

[node name="GameRoot" type="Node2D"]

[node name="Background" type="CanvasLayer" parent="."]
layer = -1

[node name="Sprite2D" type="Sprite2D" parent="Background"]
texture_filter = 1
position = Vector2(400.00003, 300.00003)
scale = Vector2(0.78125006, 0.78125006)
texture = ExtResource("1_m7g0w")
region_enabled = true
region_rect = Rect2(0, 512, 1024, 768)

[node name="GameWorld" type="Node" parent="."]
script = ExtResource("1_sd42p")

[node name="Player" parent="GameWorld" instance=ExtResource("1_oc7al")]

[node name="FruitManager" type="Path2D" parent="GameWorld"]
curve = SubResource("Curve2D_sd42p")
script = ExtResource("2_mf5tn")
sprite_datas = Array[ExtResource("4_5ki0c")]([ExtResource("4_ruu41"), ExtResource("7_50ijx"), ExtResource("8_d0ffj"), ExtResource("6_0lrfc"), ExtResource("9_yhd5o")])

[node name="HUD" type="CanvasLayer" parent="."]
script = ExtResource("10_yhd5o")

[node name="Misses" type="Node2D" parent="HUD"]
position = Vector2(776, 24)

[node name="Miss1" type="Sprite2D" parent="HUD/Misses"]
texture_filter = 1
position = Vector2(-212, 28.8)
scale = Vector2(0.9, 0.9)
texture = ExtResource("10_d0ffj")

[node name="Miss2" type="Sprite2D" parent="HUD/Misses"]
texture_filter = 1
position = Vector2(-140, 38.4)
scale = Vector2(1.2, 1.2)
texture = ExtResource("10_d0ffj")

[node name="Miss3" type="Sprite2D" parent="HUD/Misses"]
texture_filter = 1
position = Vector2(-48, 48)
scale = Vector2(1.5, 1.5)
texture = ExtResource("10_d0ffj")

[node name="Score" type="Node2D" parent="HUD"]
position = Vector2(24, 24)

[node name="SlicedFruit" type="Sprite2D" parent="HUD/Score"]
position = Vector2(32, 32)
texture = ExtResource("12_ukkfd")

[node name="ScoreLabel" type="RichTextLabel" parent="HUD/Score"]
offset_left = 72.0
offset_top = 16.0
offset_right = 248.0
offset_bottom = 56.0
theme = ExtResource("13_ukkfd")
bbcode_enabled = true
text = "0"

[node name="HighScoreLabel" type="RichTextLabel" parent="HUD/Score"]
offset_left = 8.0
offset_top = 64.0
offset_right = 112.0
offset_bottom = 144.0
theme = ExtResource("13_ukkfd")
bbcode_enabled = true
text = "[font_size=16][color=\"lightgreen\"]high score:
0"
horizontal_alignment = 1

[connection signal="fruit_sliced" from="GameWorld/FruitManager" to="GameWorld" method="_on_fruit_manager_fruit_sliced"]
[connection signal="fruits_depleted" from="GameWorld/FruitManager" to="GameWorld" method="_on_fruit_manager_fruits_depleted"]
[connection signal="spawn_cooldown_finished" from="GameWorld/FruitManager" to="GameWorld" method="_on_fruit_manager_spawn_cooldown_finished"]
[connection signal="unsliced_fruit_left" from="GameWorld/FruitManager" to="GameWorld" method="_on_fruit_manager_unsliced_fruit_left"]
